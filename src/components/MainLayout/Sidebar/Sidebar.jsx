import { useEffect } from "react";
import { useLocation, useNavigate } from "react-router-dom";
import * as S from "./Styled";

const Sidebar = () => {
  const navigate = useNavigate();
  const pathname = useLocation().pathname;

  return (
    <S.Sidebar>
      <S.Container>
        <S.Logo>anistat.</S.Logo>
        <S.Menu>
          <S.Item
            active={pathname === "/" ? true : false}
            onClick={() => navigate("/")}
          >
            <S.Icon>
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M4 4H10V12H4V4ZM4 16H10V20H4V16ZM14 12H20V20H14V12ZM14 4H20V8H14V4Z"
                  stroke={pathname === "/" ? "#1865bb" : "black"}
                  strokeWidth={2}
                  strokeLinecap="round"
                  strokeLinejoin="round"
                />
              </svg>
            </S.Icon>
            <S.Name>Главная</S.Name>
          </S.Item>

          <S.Item
            active={pathname === "/now" ? true : false}
            onClick={() => navigate("/now")}
          >
            <S.Icon>
              <svg
                width="21"
                height="17"
                viewBox="0 0 21 17"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clipPath="url(#clip0_2_12)">
                  <path
                    d="M4.95272 6.375H6.05948C6.42075 6.375 6.67012 6.01541 6.54708 5.67176C6.38531 5.22086 6.29934 4.74273 6.29934 4.25C6.29934 3.75727 6.38531 3.27914 6.54708 2.82824C6.67045 2.48459 6.42075 2.125 6.05948 2.125H4.95272C4.7227 2.125 4.51106 2.27408 4.44708 2.49787C4.28662 3.06166 4.2 3.64836 4.2 4.25C4.2 4.85164 4.28662 5.43834 4.44741 6.0018C4.51106 6.22559 4.7227 6.375 4.95272 6.375ZM2.9505 0.774961C3.13556 0.422344 2.88652 0 2.49244 0H1.33317C1.12744 0 0.934828 0.119199 0.849516 0.309121C0.308437 1.51207 0 2.84385 0 4.25C0 5.07178 0.102375 6.51877 0.875766 8.19652C0.961734 8.38346 1.15205 8.5 1.35516 8.5H2.49834C2.89275 8.5 3.1418 8.07699 2.95608 7.72404C1.32267 4.62553 2.40778 1.80891 2.9505 0.774961V0.774961ZM20.1488 0.308457C20.0635 0.118867 19.8712 0 19.6655 0H18.5033C18.1102 0 17.8582 0.420352 18.0433 0.771973C18.6427 1.91051 19.632 4.73709 18.0525 7.71906C17.8648 8.07367 18.1115 8.5 18.5089 8.5H19.6649C19.8706 8.5 20.0629 8.38113 20.1482 8.19154C20.6906 6.98859 21 5.65648 21 4.25C21 2.84352 20.6909 1.51141 20.1488 0.308457V0.308457ZM16.0473 2.125H14.9405C14.5792 2.125 14.3299 2.48459 14.4529 2.82824C14.6147 3.27914 14.7007 3.75727 14.7007 4.25C14.7007 4.74273 14.6147 5.22086 14.4529 5.67176C14.3295 6.01541 14.5792 6.375 14.9405 6.375H16.0473C16.2776 6.375 16.4889 6.22592 16.5529 6.0018C16.7137 5.43834 16.8 4.85164 16.8 4.25C16.8 3.64836 16.7134 3.06166 16.5526 2.4982C16.4889 2.27408 16.2773 2.125 16.0473 2.125V2.125ZM12.2312 5.4493C12.4625 5.10764 12.5987 4.69525 12.5987 4.25C12.5987 3.07627 11.6593 2.125 10.5 2.125C9.34106 2.125 8.40131 3.07627 8.40131 4.25C8.40131 4.69525 8.53748 5.10764 8.76881 5.4493L4.48678 15.8555C4.37522 16.1261 4.50188 16.4372 4.7693 16.5501L5.73759 16.9588C6.00502 17.0717 6.31247 16.9436 6.4237 16.6729L8.03775 12.75H12.9619L14.5763 16.6729C14.6879 16.9439 14.995 17.0717 15.2624 16.9588L16.2307 16.5501C16.4981 16.4372 16.6245 16.1261 16.5132 15.8555L12.2312 5.4493V5.4493ZM8.91253 10.625L10.5 6.76713L12.0875 10.625H8.91253Z"
                    fill={pathname === "/now" ? "#1865bb" : "black"}
                  />
                </g>
                <defs>
                  <clipPath id="clip0_2_12">
                    <rect width="21" height="17" fill="white" />
                  </clipPath>
                </defs>
              </svg>
            </S.Icon>
            <S.Name>Сейчас смотрят</S.Name>
          </S.Item>
        </S.Menu>
      </S.Container>
    </S.Sidebar>
  );
};

export default Sidebar;
